!function(){"use strict";var e=angular.module("chartjs",[]),n={line:"Line",bar:"Bar",radar:"Radar",polar:"PolarArea",pie:"Pie",doughnut:"Doughnut"},t=function(n){var t=n.charAt(0).toUpperCase()+n.slice(1);e.directive("cjs"+t,["ChartFactory",function(e){return new e(n)}])};for(var r in n)t(r);e.factory("ChartFactory",function(){return function(e){e=n[e];var t=function(e,n){var t,r,a={};for(t in e)r=n[t],"undefined"!=typeof r&&(a[t]=r);return a};if("undefined"!=typeof e)return{restrict:"EAC",template:'<div><canvas class="cjs-chart"></canvas></div>',replace:!0,require:"?legend",scope:{dataset:"=",options:"=",legend:"@"},link:function(n,r,a){var i,d;"before"===a.legend&&(r.prepend('<div class="cjs-legend"></div>'),i=r[0].children[1],d=r[0].children[0]),"after"!==a.legend&&a.legend||(r.append('<div class="cjs-legend"></div>'),i=r[0].children[0],d=r[0].children[1]);var c=i.getContext("2d"),o=new Chart(c),l={};angular.extend(l,Chart.defaults.global,Chart.defaults[e]),angular.extend(l,n.options,t(l,a)),o=o[e](n.dataset,l),d.innerHTML=o.generateLegend(),n.$watch("dataset",function(e){o.initialize(e),d.innerHTML=o.generateLegend()},!0),n.$watch("options",function(){angular.extend(o.options,n.options)},!0)}}}}),e.directive("legend",function(){return{controller:function(){}}})}();